#!/bin/bash

set -u

# 実行場所のディレクトリを取得
THIS_DIR=$(cd $(dirname $0); pwd)

cd $THIS_DIR
git submodule init
git submodule update

echo "start setup..."
for f in .??*; do
    [ "$f" = ".git" ] && continue
    [ "$f" = ".gitconfig.local.template" ] && continue
    [ "$f" = ".require_oh-my-zsh" ] && continue
    [ "$f" = ".gitmodules" ] && continue

    ln -snfv ~/dotfiles/"$f" ~/
done

#[ -e ~/.gitconfig.local ] || cp ~/dotfiles/.gitconfig.local.template ~/.gitconfig.local

### emacs set up
#if which cask >/dev/null 2>&1; then
#      echo "setup .emacs.d..."
#      cd ${THIS_DIR}/.emacs.d
#      cask upgrade
#      cask install
#fi

cat << END

***************************************************************************************************************************************************************

 _____   ____ _______ ______ _____ _      ______  _____    _____ ______ _______ _    _ _____    ______ _____ _   _ _____  _____ _    _ ______ _____    _   _ 
 |  __ \ / __ \__   __|  ____|_   _| |    |  ____|/ ____|  / ____|  ____|__   __| |  | |  __ \  |  ____|_   _| \ | |_   _|/ ____| |  | |  ____|  __ \  | | | |
 | |  | | |  | | | |  | |__    | | | |    | |__  | (___   | (___ | |__     | |  | |  | | |__) | | |__    | | |  \| | | | | (___ | |__| | |__  | |  | | | | | |
 | |  | | |  | | | |  |  __|   | | | |    |  __|  \___ \   \___ \|  __|    | |  | |  | |  ___/  |  __|   | | | . ` | | |  \___ \|  __  |  __| | |  | | | | | |
 | |__| | |__| | | |  | |     _| |_| |____| |____ ____) |  ____) | |____   | |  | |__| | |      | |     _| |_| |\  |_| |_ ____) | |  | | |____| |__| | |_| |_|
 |_____/ \____/  |_|  |_|    |_____|______|______|_____/  |_____/|______|  |_|   \____/|_|      |_|    |_____|_| \_|_____|_____/|_|  |_|______|_____/  (_) (_)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
***************************************************************************************************************************************************************

END

